#!/usr/bin/env php
<?php

require_once __DIR__ . '/../vendor/autoload.php';

//$calculator = new \PeacefulBit\Packet\Calculator();

//$calculator->run($argv[1]);

$tokenizer = new \PeacefulBit\Slate\Parser\Tokenizer();
$parser = new \PeacefulBit\Slate\Parser\Parser();

$code = <<<CODE
(def a 10 b 12 c 200)
(def (iter x y)
     (if (= x y) 
         x
         (iter (+ x 1) y)))
(iter 0 500)
CODE;


$tokens = $tokenizer->tokenize($code);

$ast = $parser->parse($tokens);

echo $ast, PHP_EOL;